/*! ContentBox Modular CMS. Generated: 13-03-2017 */


function activateNavbarState(){var container=$("#container");$("#toggle-left").bind("click",function(e){$(window).width()>768&&(sidemenuCollapse=container.hasClass("sidebar-mini")?"no":"yes",$.ajax({url:$("body").attr("data-preferenceURL"),data:{value:sidemenuCollapse,preference:"sidemenuCollapse"},async:!0}))})}function isMainSidebarOpen(){var sidebar=$("#main-content-sidebar");return void 0!==sidebar.attr("id")&&"block"===sidebar.css("display")}function toggleSidebar(){var sidebar=$("#main-content-sidebar"),type=sidebar.css("display"),sidebarState=!1;void 0!==type&&("block"===type?(sidebar.fadeOut(),$("#main-content-sidebar-trigger i").removeClass("fa-minus-square-o").addClass("fa-plus-square-o"),$("#main-content-slot").removeClass("col-md-8").addClass("col-md-12")):($("#main-content-sidebar-trigger i").removeClass("fa-plus-square-o").addClass("fa-minus-square-o"),sidebar.fadeIn(),$("#main-content-slot").removeClass("col-md-12").addClass("col-md-8"),sidebarState=!0),$.ajax({url:$("body").attr("data-preferenceURL"),data:{value:sidebarState,preference:"sidebarstate"},async:!0}))}function adminAction(action,actionURL){"null"!=action&&($("#adminActionsIcon").addClass("fa-spin textOrange"),$.post(actionURL,{targetModule:action},function(data){data.ERROR?adminNotifier("error","<i class='fa-exclamation-sign'></i> <strong>Error running action, check logs!</strong>"):adminNotifier("info","<i class='fa-exclamation-sign'></i> <strong>Action Ran, Booya!</strong>"),$("#adminActionsIcon").removeClass("fa-spin textOrange")}))}function adminNotifier(type,message,delay){switch(toastr.options={closeButton:!0,preventDuplicates:!0,progressBar:!0,showDuration:"300",timeOut:"2000",positionClass:"toast-top-center"},type){case"info":toastr.info(message);break;case"error":toastr.error(message);break;case"success":toastr.success(message);break;case"warning":toastr.warning(message);break;default:toastr.info(message)}}function activateContentSearch(){$nav_search=$("#nav-search"),$nav_search_results=$("#div-search-results"),$nav_search.css("opacity","0.8"),$nav_search.focusin(function(){$(this).animate({opacity:1},500,function(){})}).blur(function(){$(this).animate({opacity:.5},500,function(){})}),$nav_search.keyup(_.debounce(function(){var $this=$(this);$this.val().length>1&&$nav_search_results.load($("#nav-search-url").val(),{search:$this.val()},function(data){"none"===$nav_search_results.css("display")&&$nav_search_results.fadeIn().slideDown()})},300)),$("body").click(function(e){$(e.target).closest("#div-search").length||closeSearchBox()})}function closeSearchBox(){$("#div-search-results").slideUp(),$("#nav-search").val("")}function quickLinks(inURL){"null"!=inURL&&(window.location=inURL)}function activateTooltips(){$("[title]").tooltip(toolTipSettings)}function hideAllTooltips(){$(".tooltip").hide()}function toggleFlickers(){$(".flickerMessages").slideToggle(),$(".flickers").fadeOut(3e3)}function closeRemoteModal(){$remoteModal.modal("hide")}function resetContainerForms(container){var frm=container.find("form");frm.length&&$(frm[0]).clearForm()}function closeModal(div){div.modal("hide")}function openModal(div,w,h){div.modal(),$(div).on("hidden.bs.modal",function(){resetContainerForms($(this))})}function openRemoteModal(url,params,w,h,delay){if(!url)return void console.log("URL needed");var modal=$remoteModal,maxHeight=$(window).height()-200,maxWidth=.85*$(window).width();modal.data("url",url),modal.data("params",params),modal.data("width",void 0!==w?w:maxWidth),modal.data("height",void 0!==h?h:maxHeight);var height=modal.data("height");height.search&&height.search("%")!==-1&&(height=height.replace("%","")/100,height=$(window).height()*height),height>maxHeight&&(height=maxHeight),modal.data("height",height),delay?(modal.data("delay",!0),modal.modal()):modal.load(url,params,function(){modal.modal()})}function setPreviewSize(activeBtn,w){var modalDialog=$remoteModal.find(".modal-dialog"),orig=($("#previewFrame").length&&$("#previewFrame"),{width:$remoteModal.data("width")}),modalSize={width:w};(!w||modalSize.width>orig.width)&&(modalSize={width:orig.width}),$remoteModal.find(".header-title").toggle(modalSize.width>600),$(activeBtn).siblings(".btn-primary").removeClass("btn-primary").addClass("btn-info"),$(activeBtn).removeClass("btn-info").addClass("btn-primary"),modalDialog.animate(modalSize,500)}function attachModalListeners(){$remoteModal.on("show.bs.modal",function(){var modal=$remoteModal;modal.find(".modal-dialog").css({width:modal.data("width"),height:modal.data("height")})}),$remoteModal.on("shown.bs.modal",function(){var modal=$remoteModal;modal.data("delay")&&modal.load(modal.data("url"),modal.data("params"),function(){modal.find(".modal-dialog").css({width:modal.data("width"),height:modal.data("height")})})}),$remoteModal.on("hidden.bs.modal",function(){var modal=$remoteModal;modal.html('<div class="modal-header"><h3>Loading...</h3></div><div class="modal-body" id="removeModelContent"><i class="fa fa-spinner fa-spin fa-lg fa-4x"></i></div>'),resetContainerForms(modal)})}function closeConfirmations(){$confirmIt.modal("hide")}function activateConfirmations(){$confirmIt.find("button").click(function(e){"confirm"===$(this).attr("data-action")&&($confirmIt.find("#confirmItButtons").hide(),$confirmIt.find("#confirmItLoader").fadeIn(),window.location=$confirmIt.data("confirmSrc"))}),$(".confirmIt").click(function(e){$confirmIt.find("#confirmItButtons").fadeIn(),$confirmIt.find("#confirmItLoader").hide(),$confirmIt.data("confirmSrc",$(this).attr("href"));var dataMessage=$(this).attr("data-message")?$(this).attr("data-message"):"Are you sure you want to perform this action?",dataTitle=$(this).attr("data-title")?$(this).attr("data-title"):"Are you sure?";$confirmIt.find("#confirmItMessage").html(dataMessage),$confirmIt.find("#confirmItTitle").html(dataTitle),$confirmIt.modal(),e.preventDefault()})}function popup(url,w,h){var winHeight=750;w&&(minWidth=w),h&&(winHeight=h);var xPosition=screen.width/2-500,yPosition=screen.height/2-winHeight/2;window.open(url,"layoutPreview","resizable=yes,status=yes,location=no,menubar=no,toolbar=no,scrollbars=yes,width=1000,height="+winHeight+",left="+xPosition+",top="+yPosition+",screenX="+xPosition+",screenY="+yPosition)}function to(link){return window.location=link,!1}function checkAll(checked,id){$("input[name='"+id+"']").each(function(){this.checked=checked})}function checkByValue(id,recordID){$("input[name='"+id+"']").each(function(){this.value===recordID?this.checked=!0:this.checked=!1})}function getToday(us){return us=null==us||us,us?moment().format("YYYY-MM-DD"):moment().format("DD-MM-YYYY")}function toggleFullScreen(){if(!$.fullscreen.isNativelySupported())return alert("Your Browser does not support fullscreen mode."),!1;$.fullscreen.isFullScreen()?$.fullscreen.exit():$("body").fullscreen()}function importContent(){var $importForm=$("#importForm");openModal($importDialog,500,350),$importForm.validate({submitHandler:function(form){$importForm.find("#importButtonBar").slideUp(),$importForm.find("#importBarLoader").slideDown(),form.submit()}}),$importForm.find("#closeButton").click(function(e){return closeModal($importDialog),!1}),$importForm.find("#importButton").click(function(e){$importForm.submit()})}$(document).ready(function(){"no"==$("body").attr("data-showsidebar")&&toggleSidebar(),void 0!==$("#main-content-sidebar").attr("id")&&$("#main-content-sidebar-trigger").fadeIn(),$confirmIt=$("#confirmIt"),$remoteModal=$("#modal"),attachModalListeners(),toolTipSettings={animation:"slide",delay:{show:100,hide:100}},activateContentSearch(),activateConfirmations(),activateTooltips(),activateNavbarState(),$.validator.setDefaults({ignore:[],highlight:function(element){$(element).closest(".form-group").removeClass("success").addClass("error")},success:function(element){element.text("Field is valid").addClass("valid").closest(".form-group").removeClass("error").addClass("success"),element.remove()},errorPlacement:function(error,element){if($(element).is(":hidden"))return!1;error.appendTo(element.closest("div.controls"))}}),$.fn.resetValidations=function(){var form=this[0].currentForm;return $(form).find(".form-group").each(function(){$(this).removeClass("error").removeClass("success")}),$(form).find(":input").each(function(){$(this).removeClass("error").removeClass("valid")}),this},$.fn.clearForm=function(){if(void 0!==this.data("validator"))return this.data("validator").resetForm(),this.find(":input").each(function(){switch(this.type){case"password":case"hidden":case"select-multiple":case"select-one":case"text":case"textarea":$(this).val("");break;case"checkbox":case"radio":this.checked=!1}}),$(this.data("validator")).resetValidations(),this},$.fn.collect=function(){var serializedArrayData=this.serializeArray(),data={};return $.each(serializedArrayData,function(index,obj){data[obj.name]=obj.value}),data};setTimeout(toggleFlickers(),5e3);$(function(){var activeTab=$('[href="'+location.hash+'"]');activeTab&&activeTab.tab("show")}),jwerty.key("ctrl+shift+s/\\",function(){return $("#nav-search").focus(),!1}),$("[data-keybinding]").each(function(){var boundItem=$(this);jwerty.key(boundItem.data("keybinding"),function(){boundItem.attr("onclick")?boundItem.click():to(boundItem.attr("href"))})}),$("#main-navbar li.nav-dropdown").each(function(){$(this).find("ul.nav-sub li").length||$(this).hide()}),$(".accordion[data-stateful]").each(function(){var match,accordion=$(this),data=accordion.data("stateful");data&&null!==(match=$.cookie(data))&&(accordion.find(".collapse").removeClass("in"),$("#"+match).addClass("in")),accordion.bind("shown.bs.collapse",function(){var active=accordion.find(".in").attr("id");$.cookie(data,active)})})});var app=function(){var init=function(){tooltips(),toggleMenuLeft(),toggleMenuRight(),switcheryToggle(),menu(),togglePanel(),closePanel()},tooltips=function(){$("#toggle-left").tooltip({delay:100})},togglePanel=function(){$(".actions > .fa-chevron-down").click(function(){$(this).parent().parent().next().slideToggle("fast"),$(this).toggleClass("fa-chevron-down fa-chevron-up")})},toggleMenuLeft=function(){$("#toggle-left").bind("click",function(e){$("body").removeClass("off-canvas-open");var bodyEl=$("#container");$(window).width()>767?$(bodyEl).toggleClass("sidebar-mini"):$(bodyEl).toggleClass("sidebar-opened")})},toggleMenuRight=function(){$("#toggle-right").click(function(){$(".off-canvas").toggleClass("off-canvas-open")})},switcheryToggle=function(){Array.prototype.slice.call(document.querySelectorAll(".js-switch")).forEach(function(html){new Switchery(html,{size:"small"})})},closePanel=function(){$(".actions > .fa-times").click(function(){$(this).parent().parent().parent().fadeOut()})},menu=function(){var subMenu=$(".sidebar .nav");$(subMenu).navgoco({caretHtml:!1,accordion:!0,slide:{duration:400,easing:"swing"}})},timer=function(){$(".timer").countTo()},map=function(){$("#map").vectorMap({map:"world_mill_en",backgroundColor:"transparent",regionStyle:{initial:{fill:"#1ABC9C"},hover:{"fill-opacity":.8}},markerStyle:{initial:{r:10},hover:{r:12,stroke:"rgba(255,255,255,0.8)","stroke-width":3}},markers:[{latLng:[27.9881,86.9253],name:"36 Employees",style:{fill:"#E84C3D",stroke:"rgba(255,255,255,0.7)","stroke-width":3}},{latLng:[48.8582,2.2945],name:"58 Employees",style:{fill:"#E84C3D",stroke:"rgba(255,255,255,0.7)","stroke-width":3}},{latLng:[-40.6892,-74.0444],name:"109 Employees",style:{fill:"#E84C3D",stroke:"rgba(255,255,255,0.7)","stroke-width":3}},{latLng:[34.05,-118.25],name:"85 Employees ",style:{fill:"#E84C3D",stroke:"rgba(255,255,255,0.7)","stroke-width":3}}]})},weather=function(){var icons=new Skycons({color:"white"});icons.set("clear-day",Skycons.CLEAR_DAY),icons.set("clear-night",Skycons.CLEAR_NIGHT),icons.set("partly-cloudy-day",Skycons.PARTLY_CLOUDY_DAY),icons.set("partly-cloudy-night",Skycons.PARTLY_CLOUDY_NIGHT),icons.set("cloudy",Skycons.CLOUDY),icons.set("rain",Skycons.RAIN),icons.set("sleet",Skycons.SLEET),icons.set("snow",Skycons.SNOW),icons.set("wind",Skycons.WIND),icons.set("fog",Skycons.FOG),icons.play()},morrisPie=function(){Morris.Donut({element:"donut-example",data:[{label:"Chrome",value:73},{label:"Firefox",value:71},{label:"Safari",value:69},{label:"Internet Explorer",value:40},{label:"Opera",value:20},{label:"Android Browser",value:10}],colors:["#1abc9c","#293949","#e84c3d","#3598db","#2dcc70","#f1c40f"]})};return{init:init,timer:timer,map:map,sliders:function(){$(".slider-span").slider()},weather:weather,morrisPie:morrisPie}}();$(document).ready(function(){app.init();var bodyEl=$("#container");$(window).width()<=768&&!$(bodyEl).hasClass("sidebar-mini")&&($("body").removeClass("off-canvas-open"),$(bodyEl).toggleClass("sidebar-mini"))});
//# sourceMappingURL=contentbox-app.min.js.map